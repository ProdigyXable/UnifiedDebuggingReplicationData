Method signature: org.apache.commons.lang.time.FastDateFormat:getDateInstance(ILjava/util/TimeZone;Ljava/util/Locale;)Lorg/apache/commons/lang/time/FastDateFormat;
Patched lines: 291 - 304
------------
if(locale!=null){
key=new Pair(key,locale);
}
if(format==null){
if(locale==null){
locale=Locale.getDefault();
}
try{
SimpleDateFormat formatter=(SimpleDateFormat)DateFormat.getDateInstance(style,locale);
String pattern=formatter.toPattern();
format=getInstance(pattern,timeZone,locale);
cDateInstanceCache.put(key,format);
}catch (ClassCastException ex) {
  throw new IllegalArgumentException("No date pattern for locale: " + locale);
}

}

