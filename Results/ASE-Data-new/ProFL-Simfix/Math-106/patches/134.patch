Method signature: org.apache.commons.math.fraction.FractionFormat:format(Ljava/lang/Object;Ljava/lang/StringBuffer;Ljava/text/FieldPosition;)Ljava/lang/StringBuffer;
Patched lines: 201 - 216
------------
if(obj instanceof Fraction){
ret=format((Fraction)obj,toAppendTo,pos);
}else if(obj instanceof Number){
try{
ret=format(new Fraction(((Number)obj).doubleValue()),toAppendTo,pos);
}catch (ConvergenceException ex) {
  throw new IllegalArgumentException("Cannot convert given object to a fraction.");
}

}else {
throw new IllegalArgumentException("Cannot format given object as a fraction");
}
return toAppendTo;

